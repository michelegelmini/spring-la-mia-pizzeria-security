<!DOCTYPE html>
<html xmins:th="http://www.thymeleaf.org">

	<head th:insert="~{fragments/fragments :: head}">
	</head>

	<body>
		<header>
			<nav th:replace="~{fragments/navbar :: navbar}"></nav>

		</header>
		<main class="container">
			<div class="row">
				<div class="col-12">
					<h1 class="py-4 mb-2 text-center">Editing <strong>[[ ${pizza.name} ]]</strong></h1>

					<form id="pizza-form" th:object="${pizza}" th:action="@{/menu/edit/{id}(id = ${pizza.id})}"
						method="POST">

						<!--	<th:block th:if="${#fields.hasErrors()}">

							<ul class="alert alert-danger p-3">
								<li th:each="err : ${#fields.allErrors()}" th:text="${err}">
								</li>
							</ul>

						</th:block> -->

						<div class="mb-3">
							<label for="exampleFormControlInput1" class="form-label">Name</label>
							<input type="text" class="form-control" id="name" placeholder="Margherita"
								th:field="*{name}" th:errorClass="is-invalid">
							<div th:if="${#fields.hasErrors('name')}" class="invalid-feedback">
								<ul>
									<li th:each="err : ${#fields.errors('name')}" th:text="${err}"></li>
								</ul>
							</div>
						</div>
						<div class="mb-3">
							<label for="exampleFormControlTextarea1" class="form-label">Ingredients</label>
							<textarea class="form-control" id="description" rows="3" th:field="*{description}"
								th:errorClass="is-invalid"></textarea>
							<div th:if="${#fields.hasErrors('description')}" class="invalid-feedback">
								<ul>
									<li th:each="err : ${#fields.errors('description')}" th:text="${err}"></li>
								</ul>
							</div>
						</div>
						<div class="mb-3">
							<label for="exampleFormControlInput1" class="form-label">Price</label>
							<input type="number" step="0.01" class="form-control" id="price" placeholder="7,99€"
								th:field="*{price}" th:errorClass="is-invalid">
							<div th:if="${#fields.hasErrors('price')}" class="invalid-feedback">
								<ul>
									<li th:each="err : ${#fields.errors('price')}" th:text="${err}"></li>
								</ul>
							</div>
						</div>
						<div class="mb-3">
							<label for="exampleFormControlInput1" class="form-label">Image URL</label>
							<input type="text" class="form-control" id="imageUrl" placeholder="https://"
								th:field="*{picture}" th:errorClass="is-invalid">
							<div th:if="${#fields.hasErrors('picture')}" class="invalid-feedback">
								<ul>
									<li th:each="err : ${#fields.errors('picture')}" th:text="${err}"></li>
								</ul>
							</div>
						</div>
						<div class="form-check mb-3" th:each="ingredient : ${ingredients}" role="group"
							aria-label="Basic checkbox toggle button group">

							<input type="checkbox" class="form-check-input" th:id="|ingredient_${ingredient.id}|"
								autocomplete="off" th:field="*{ingredients}" th:value="${ingredient.id}">
							<label class="form-check-label" th:for="|ingredient_${ingredient.id}|"
								th:text="${ingredient.name}"></label>

						</div>


						<div class="mb-3 d-flex justify-content-around">
							<input type="submit" class="btn btn-primary btn-lg" value="Update pizza">
							<input type="reset" class="btn btn-warning btn-lg" value="Reset fields">
						</div>



					</form>



					<div class="card-body d-flex justify-content-center align-items-center">
						<a th:href="@{/menu}" class="btn btn-primary">Back to menu</a>
					</div>
				</div>
			</div>
		</main>
		<footer th:replace="~{fragments/fragments :: footer}">

		</footer>
		<th:block th:replace="~{fragments/fragments :: scripts}"></th:block>


	</body>

</html>

<!-- 
	<table class="table table-striped table-hover">
								<thead>
									<tr>
										<th>#</th>
										<th>Name</th>
										<th>Description</th>
										<th>Picture</th>
										<th>Price</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="pizza : ${menu}">
										<td th:text="${pizza.id}"></td>
										<td th:text="${pizza.name}"></td>
										<td th:text="${pizza.description}"></td>
										<td><a th:href="@{${pizza.picture}}">img</a></td>
										<td th:text="€ + ${pizza.price}"></td>
									</tr>
								</tbody>
							</table>
	
	
	
-->